@(fuzzySystem : FuzzySystem, tp : models.Type)

@import helper._

@main(fuzzySystem.name + " -> " + tp.name)(fuzzy.system.types.menu(fuzzySystem,tp.id)){   

    <div class="sub_lefted">
        <div class="sub_content sub_limited">
            <h3 class='sub_content_header'>Universe of Discourse</h3>

            <p>Min: @tp.min</p>
            <p>Max: @tp.max</p>
            <p>Card: @tp.card</p>
            
        </div>
        <div class="sub_content sub_limited">
            <h3 class='sub_content_header'>Membership Functions</h3>

            <ul>
            @for( mf <- tp.MFs ) {
                <li><a href="@routes.MFs.detail(fuzzySystem.id,tp.id,mf.id)">
                        @mf.label
                </a></li>
             }
            </ul>
            
            <div class="actions">
                <form action="@routes.MFs.prepareCreate(fuzzySystem.id,tp.id)" method="GET" >
                    
                    <input type="submit" value="Add Membership Function">
                                        
                </form>
            </div>
        </div>

    </div>
    <div class="sub_righted">
        <div class="sub_content">
            <h3 class='sub_content_header'>Membership Functions Plot</h3>
            <table id="choices" style="font-weight: bold"><tr ><td>Show:</td></tr></table>
            <div id="mfs_plot" style="width:500px;height:300px" class="sub_limited">
            </div>

        </div>

    </div>



    <script type="text/javascript">

        $(document).ready(function() {

                 
  

            var plotData = [];
            var plotOptions = {};

            //get parameters for a given operator selected option
            function getMfsDataAndOptions(id_sys, id_type) { 

                console.log("getMfsDataAndOptions(" + id_sys + "," + id_type + ")");

                $.getJSON('/ajax/get_mfs_plot_data', 
                      {
                        id_sys: id_sys,
                        id_type: id_type
                      },
                    function(data) {
                        var newData  = data.datas;
                        var newOptions  = data.options;
                        console.log(newData);
                        console.log(newOptions);
                        plotData = newData;
                        plotOptions = newOptions;


                        @flot_tags.checkbox.prepareChoices("#mfs_plot") 

                        plotAccordingToChoices();
                        
                });
            }

            @flot_tags.checkbox.plotAccordingToChoices("#mfs_plot") 


            getMfsDataAndOptions(@fuzzySystem.id, @tp.id);

        });
                
    </script>

}
