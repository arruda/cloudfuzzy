@(fuzzySystem : FuzzySystem, spec: xfuzzy.lang.Specification)

<div id="system_design">
@***
<div id="topMost">&nbsp;</div><div id="bottomMost" class="ui-draggable" style="left: 574px; top: 134px; ">&nbsp;</div>
***@    
	<div class="system_input_wrapper">
	    @for( i <- 0 to spec.getSystemModule().getInputs().length-1 ) {    
	    	@defining(spec.getSystemModule().getInputs()(i)){ variable =>  
		    	
				<div class="system_input">
			         	@variable.getName()<div id="dot__rulebaseCall--__sysVar-@i-@{models.Variable.INPUT}-__baseVar---" class="link_dot"></div>
    			</div>
	    	}
	    }
    </div>
	<div class="system_output_wrapper">
	    @for( i <- 0 to spec.getSystemModule().getOutputs().length-1 ) {    
	    	@defining(spec.getSystemModule().getOutputs()(i)){ variable =>  
		    	
				<div class="system_output">
			         	@variable.getName()<div id="dot__rulebaseCall--__sysVar-@i-@{models.Variable.OUTPUT}-__baseVar---"class="link_dot"></div>
    			</div>
	    	}
	    }
    </div>
    
    @for( i <- 0 to spec.getSystemModule().getRulebaseCalls().length-1 ) {    
    	@defining(spec.getSystemModule().getRulebaseCalls()(i).getRulebase()){ rb =>  
    	@defining(fuzzySystem.getRulebaseCallPos(i)){ rbcPos =>  
    		
	    	
			<div id="rulebasecall_@i" class="rulebasecall" 
			@if(rbcPos != null){
				style="top:@{rbcPos.yPos}px; left:@{rbcPos.xPos}px"
			}
			>
				<h3>@rb.getName()</h3>
				<table style="width:90%;">
					<tr>
						<td align="left">
							<div class="rulebase_input_wrapper">
							    @for( iv <- 0 to rb.getInputs().length-1 ) {    
							    	@defining(rb.getInputs()(iv)){ variable =>  
								    	
							         	@variable.getName()
							         	<div id="dot__rulebaseCall-@i-__sysVar---__baseVar-@iv-@{models.Variable.INPUT}-"class="link_dot"></div>
						    			
							    	}
							    }
						    </div>
						</td>
						
						<td align="right">
							<div class="rulebase_output_wrapper">
							    @for( iv <- 0 to rb.getOutputs().length-1 ) {    
							    	@defining(rb.getOutputs()(iv)){ variable =>  
								    	
							         	@variable.getName()
							         	<div id="dot__rulebaseCall-@i-__sysVar---__baseVar-@iv-@{models.Variable.OUTPUT}-"class="link_dot"></div>
						    			
							    	}
							    }
						    </div>
						
						</td>
					</tr>
				</table>
	         	
	         	
			<a id="rm_rulebasecall_@i"href="#" class="delete rulebase_del" title="Delete" alt="Delete" style="margin-left: 40px;"></a>
		            	
		    </div>
    	}
    	}
    }
    
</div>