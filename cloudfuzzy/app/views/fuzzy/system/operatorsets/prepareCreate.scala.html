@(systemId: Long, newOPSetForm: Form[models.OperatorSet])

@import helper._


@hiddenField(field: Field) = {
    @input(field, '_label -> null , '_class -> null ) { (id, name, value, _) =>
        <input type="hidden" name="@name" value="@value"> 
    }
}

@operatorField(field: Field) = {


    @hiddenField(field("name"))

    @select(
        field("selectedOption"),
        options =  options(
                        models.OperatorSet.getAvailableOptionsMapForOperatorsByOperatorLabel(
                            field("name").value.getOrElse("")
                        )
                    ),
        '_label -> field("name").value
    )          



}

@fuzzy.system.system_template{   
    <div class="sub_content sub_limited">
        <h3 class='sub_content_header'>New Fuzzy Operator Set</h3> 
            @helper.form(action = routes.OperatorSets.create(systemId), 'id -> "newOPSetForm") {
                
                <fieldset>
                    <legend>General Information for the new Type</legend>
                    
                    @inputText(
                        newOPSetForm("name"), 
                        '_label -> "Name", 
                        '_help -> "The name of this Operator Set."
                    )                

                    
                </fieldset>           
                
                <fieldset>
                    <legend>Select Operators</legend>

                    @repeat(newOPSetForm("operators")) { operator =>
                        
                        @operatorField(operator)
                        
                    }   

                    @****

                    @operatorField(
                        newOPSetForm("operators[0]")
                    )

	                @repeat(contactForm("informations")) { information =>
	                
	                    @informationGroup(information)
	                
	                }
	                ****@
                </fieldset>         
                
                <div class="actions">
                    <input type="submit" class="btn primary" value="Create">
                </div>
                
            }
 
    </div>
    
}